<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Crucigrama: Uso Responsable del Ciberespacio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #333;
      font-size: 1.5em;
      margin-bottom: 20px;
    }
    #grid {
      display: grid;
      grid-template-columns: repeat(18, 1fr);
      gap: 2px;
      max-width: 100%;
      margin: 0 auto 20px;
    }
    .cell-wrapper {
      position: relative;
      width: 100%;
      aspect-ratio: 1;
    }
    .cell {
      width: 100%;
      height: 100%;
      font-size: 1em;
      text-align: center;
      text-transform: uppercase;
      border: 1px solid #ccc;
      background: white;
    }
    .cell:disabled {
      background: #ddd;
    }
    .number {
      position: absolute;
      top: 2px;
      left: 2px;
      font-size: 0.6em;
      color: #555;
    }
    #checkBtn {
      display: block;
      margin: 0 auto 20px;
      padding: 10px 20px;
      font-size: 1em;
      background: #0077cc;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      max-width: 300px;
    }
    #checkBtn:hover {
      background: #005fa3;
    }
    #clues {
      display: flex;
      flex-direction: column;
      gap: 20px;
      max-width: 700px;
      margin: 0 auto;
    }
    .clue-group h3 {
      margin-bottom: 5px;
      color: #0077cc;
      font-size: 1.1em;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 5px;
      font-size: 0.95em;
    }
    @media (max-width: 600px) {
      #grid {
        grid-template-columns: repeat(18, minmax(16px, 1fr));
      }
      .cell {
        font-size: 0.8em;
      }
      #checkBtn {
        font-size: 0.9em;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <h1>Crucigrama: Uso Responsable del Ciberespacio</h1>
  <div id="grid"></div>
  <button id="checkBtn">Verificar respuestas</button>
  <div id="clues">
    <div class="clue-group">
      <h3>Horizontales</h3>
      <ul id="across-clues"></ul>
    </div>
    <div class="clue-group">
      <h3>Verticales</h3>
      <ul id="down-clues"></ul>
    </div>
  </div>

  <script>
    const wordList = `
contraseña|Clave secreta para acceder a cuentas digitales
privacidad|Derecho a controlar tu información personal
respeto|Valor esencial en la comunicación digital
ética|Principios que guían el comportamiento en línea
aprendizaje|Proceso de adquirir conocimientos en el ciberespacio
datos|Información que se recopila y almacena digitalmente
méxico|País que promueve el uso responsable del internet
ley|Norma que regula el comportamiento en línea
seguridad|Protección contra amenazas digitales
ciberespacio|Entorno virtual donde interactuamos digitalmente
educación|Base para el uso consciente de la tecnología
protección|Acción de resguardar información personal
redes|Plataformas de interacción social en línea
información|Contenido que se comparte y consume en internet
cultura|Conjunto de valores y prácticas digitales
`.trim();

    const words = wordList.split("\n").map(line => {
      const [word, clue] = line.split("|");
      return { word: word.trim().toLowerCase(), clue: clue.trim() };
    });

    const gridSize = 18;
    const grid = Array.from({ length: gridSize }, () =>
      Array(gridSize).fill(null)
    );

    const directions = ["across", "down"];
    const placedWords = [];

    function canPlace(word, row, col, dir) {
      if (dir === "across") {
        if (col + word.length > gridSize) return false;
        for (let i = 0; i < word.length; i++) {
          if (grid[row][col + i] && grid[row][col + i].letter !== word[i]) {
            return false;
          }
        }
      } else {
        if (row + word.length > gridSize) return false;
        for (let i = 0; i < word.length; i++) {
          if (grid[row + i][col] && grid[row + i][col].letter !== word[i]) {
            return false;
          }
        }
      }
      return true;
    }

    function place(word, row, col, dir, number, clue) {
      for (let i = 0; i < word.length; i++) {
        const r = dir === "across" ? row : row + i;
        const c = dir === "across" ? col + i : col;
        grid[r][c] = { letter: word[i], number: i === 0 ? number : null };
      }
      placedWords.push({ word, clue, row, col, dir, number });
    }

    function placeWords() {
      words.sort(() => Math.random() - 0.5);
      let clueNumber = 1;

      words.forEach(({ word, clue }) => {
        for (let attempt = 0; attempt < 100; attempt++) {
          const dir = directions[Math.floor(Math.random() * 2)];
          const row = Math.floor(Math.random() * gridSize);
          const col = Math.floor(Math.random() * gridSize);

          if (canPlace(word, row, col, dir)) {
            place(word, row, col, dir, clueNumber, clue);
            clueNumber++;
            break;
          }
        }
      });
    }

    function renderGrid() {
      const gridDiv = document.getElementById("grid");
      gridDiv.innerHTML = "";

      for (let r = 0; r < gridSize; r++) {
        for (let c = 0; c < gridSize; c++) {
          const cell = grid[r][c];
          const wrapper = document.createElement("div");
          wrapper.className = "cell-wrapper";

          const input = document.createElement("input");
          input.maxLength = 1;
          input.className = "cell";

          if (cell) {
            input.dataset.correct = cell.letter.toUpperCase();
            if (cell.number) {
              const number = document.createElement("div");
              number.className = "number";
              number.textContent = cell.number;
              wrapper.appendChild(number);
            }
          } else {
            input.disabled = true;
          }

          wrapper.appendChild(input);
          gridDiv.appendChild(wrapper);
        }
      }
    }

    function renderClues() {
      const acrossList = document.getElementById("across-clues");
      const downList = document.getElementById("down-clues");
      acrossList.innerHTML = "";
      downList.innerHTML = "";

      placedWords.forEach(({ clue, dir, number }) => {
        const li = document.createElement("li");
        li.textContent = `${number}. ${clue}`;
        if (dir === "across") {
          acrossList.appendChild(li);
        } else {
          downList.appendChild(li);
        }
      });
    }
function checkAnswers() {
  const checkBtn = document.getElementById("checkBtn");
  if (checkBtn.disabled) return;

  let correctWords = 0;
  let incorrectWords = 0;
  const inputs = document.querySelectorAll(".cell");

  placedWords.forEach(({ word, row, col, dir, clue }) => {
    let isCorrect = true;

    for (let i = 0; i < word.length; i++) {
      const r = dir === "across" ? row : row + i;
      const c = dir === "across" ? col + i : col;
      const index = r * gridSize + c;
      const input = inputs[index];
      const val = input.value.toUpperCase();
      const correct = input.dataset.correct;

      if (val !== correct) {
        isCorrect = false;
        input.style.background = "#ffe0e0"; // solo marca visual
      } else {
        input.style.background = "#e0ffe0";
      }

      input.disabled = true;
    }

    const clueElement = document.querySelector(`.clue[data-word='${word}']`);
    if (clueElement) {
      clueElement.innerHTML += isCorrect
        ? ` <span style="color:green;">✔ Bien hecho</span>`
        : ` <span style="color:red;">✘ Revisa esta pista: ${clueElement.dataset.explanation || "Intenta recordar el contexto de la palabra."}</span>`;
    }

    if (isCorrect) {
      correctWords++;
    } else {
      incorrectWords++;
    }
  });

  const result = document.createElement("div");
  result.innerHTML = `
    <h3>Resultados:</h3>
    <p>✅ Correctas: <strong>${correctWords}</strong></p>
    <p>❌ Incorrectas: <strong>${incorrectWords}</strong></p>
  `;
  result.style.textAlign = "center";
  result.style.marginTop = "20px";
  document.body.appendChild(result);

  checkBtn.disabled = true;
  checkBtn.style.opacity = "0.6";
  checkBtn.style.cursor = "default";
}
 

    document.getElementById("checkBtn").addEventListener("click", checkAnswers);

    placeWords();
    renderGrid();
    renderClues();
  </script>
</body>
</html>
    