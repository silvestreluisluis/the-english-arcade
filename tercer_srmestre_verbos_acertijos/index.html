<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Verbos en Ingl√©s</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 25px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            font-size: 2.5rem;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .timer-container, .score-container, .verbs-counter {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            flex: 1;
            text-align: center;
            min-width: 180px;
        }
        
        .riddle-container {
            background: linear-gradient(to right, #e0eafc, #cfdef3);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            text-align: center;
            font-size: 1.3rem;
            border-left: 6px solid #3498db;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .input-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        .input-field {
            width: 100%;
            padding: 15px;
            border: 2px solid #bdc3c7;
            border-radius: 12px;
            font-size: 1.2rem;
            text-align: center;
            transition: all 0.3s;
            background-color: #f8f9fa;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
        }
        
        .input-field.correct {
            border-color: #2ecc71;
            background-color: #e8f8ef;
            box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.3);
        }
        
        .input-field.incorrect {
            border-color: #e74c3c;
            background-color: #fdedec;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.3);
        }
        
        .keyboard-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            overflow: hidden;
        }
        
        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
            width: 100%;
            gap: 5px;
        }
        
        .key {
            width: 40px;
            height: 45px;
            background: linear-gradient(to bottom, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .key.vibrate {
            animation: vibrate 0.15s ease-in-out;
        }
        
        @keyframes vibrate {
            0% { transform: translateX(0) scale(1); }
            25% { transform: translateX(-2px) scale(0.95); }
            50% { transform: translateX(2px) scale(0.98); }
            75% { transform: translateX(-1px) scale(0.97); }
            100% { transform: translateX(0) scale(1); }
        }
        
        .key:hover {
            background: linear-gradient(to bottom, #2980b9, #2573a7);
            transform: translateY(-2px);
            box-shadow: 0 5px 7px rgba(0, 0, 0, 0.15);
        }
        
        .key:active {
            transform: translateY(1px) scale(0.95);
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
        }
        
        .key.wide {
            width: 65px;
        }
        
        .key.delete {
            background: linear-gradient(to bottom, #e74c3c, #c0392b);
        }
        
        .key.delete:hover {
            background: linear-gradient(to bottom, #c0392b, #a93226);
        }
        
        .key.space {
            width: 280px;
            background: linear-gradient(to bottom, #95a5a6, #7f8c8d);
        }
        
        .key.space:hover {
            background: linear-gradient(to bottom, #7f8c8d, #6c7b7d);
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
        }
        
        .btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .btn-next {
            background: linear-gradient(to right, #2ecc71, #27ae60);
            color: white;
        }
        
        .btn-next:hover {
            background: linear-gradient(to right, #27ae60, #219653);
        }
        
        .btn-next:disabled {
            background: linear-gradient(to right, #bdc3c7, #95a5a6);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .btn-check {
            background: linear-gradient(to right, #f39c12, #e67e22);
            color: white;
        }
        
        .btn-check:hover {
            background: linear-gradient(to right, #e67e22, #d35400);
        }
        
        .message {
            text-align: center;
            padding: 15px;
            margin-top: 20px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .success {
            background: linear-gradient(to right, #d5f4e6, #c1e8d0);
            color: #27ae60;
            border-left: 5px solid #2ecc71;
        }
        
        .error {
            background: linear-gradient(to right, #fadbd8, #f5b7b1);
            color: #c0392b;
            border-left: 5px solid #e74c3c;
        }
        
        .progress-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 15px;
            margin: 20px 0;
            height: 25px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #3498db, #2980b9);
            width: 0%;
            transition: width 0.5s;
            border-radius: 15px;
        }
        
        .verb-counter {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        @media (max-width: 768px) {
            .input-container {
                grid-template-columns: 1fr;
            }
            
            .key {
                width: 35px;
                height: 40px;
                font-size: 1rem;
            }
            
            .key.wide {
                width: 55px;
            }
            
            .key.space {
                width: 220px;
            }
            
            .game-header {
                flex-direction: column;
            }
            
            .keyboard-container {
                padding: 12px;
                max-width: 95%;
            }
            
            .keyboard-row {
                gap: 4px;
                margin-bottom: 6px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .key {
                width: 30px;
                height: 35px;
                font-size: 0.9rem;
            }
            
            .key.wide {
                width: 45px;
            }
            
            .key.space {
                width: 180px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .keyboard-container {
                padding: 10px;
            }
            
            .keyboard-row {
                margin-bottom: 5px;
                gap: 3px;
            }
        }
        
        @media (max-width: 360px) {
            .key {
                width: 28px;
                height: 32px;
                font-size: 0.85rem;
            }
            
            .key.wide {
                width: 40px;
            }
            
            .key.space {
                width: 150px;
            }
            
            .keyboard-row {
                gap: 2px;
            }
        }
    </style>
</head>
<body>
    <h1>Juego de Verbos en Ingl√©s</h1>
    
    <div class="container">
        <div class="game-header">
            <div class="timer-container">
                ‚è±Ô∏è Tiempo: <span id="timer">40:00</span>
            </div>
            <div class="score-container">
                üèÜ Puntuaci√≥n: <span id="score">0</span>
            </div>
            <div class="verbs-counter">
                üìö Verbos: <span id="current-verb">1</span>/<span id="total-verbs">40</span>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div class="riddle-container">
            <p id="riddle">Completa las cuatro formas del verbo: presente, pasado, participio y gerundio</p>
        </div>
        
        <div class="input-container">
            <div class="input-group">
                <label for="present">üìù Presente Simple</label>
                <input type="text" id="present" class="input-field">
            </div>
            <div class="input-group">
                <label for="past">üïí Pasado Simple</label>
                <input type="text" id="past" class="input-field">
            </div>
            <div class="input-group">
                <label for="participle">‚úÖ Pasado Participio</label>
                <input type="text" id="participle" class="input-field">
            </div>
            <div class="input-group">
                <label for="gerund">üîÑ Gerundio</label>
                <input type="text" id="gerund" class="input-field">
            </div>
        </div>
        
        
        <div class="action-buttons">
            <button class="btn btn-check" id="check-btn">Verificar Respuestas</button>
            <button class="btn btn-next" id="next-btn" disabled>Siguiente Verbo</button>
        </div>
        
        <div id="message" class="message"></div>
        
        <div class="verb-counter" id="verb-counter">Verbo 1 de 40</div>
    </div>

    <script>
        // Lista completa de verbos con sus formas y acertijos mejorados
        const allVerbs = [
            { base: "speed", present: "speed", past: "sped", participle: "sped", gerund: "speeding", riddle: "Este verbo significa moverse muy r√°pido. ¬øCu√°les son sus cuatro formas?" },
            { base: "feed", present: "feed", past: "fed", participle: "fed", gerund: "feeding", riddle: "Cuando das de comer a alguien, usas este verbo. Escribe sus cuatro formas." },
            { base: "stink", present: "stink", past: "stank", participle: "stunk", gerund: "stinking", riddle: "Este verbo describe cuando algo huele muy mal. Completa sus formas." },
            { base: "bet", present: "bet", past: "bet", participle: "bet", gerund: "betting", riddle: "Si apuestas dinero en un juego, usas este verbo. ¬øSus cuatro formas?" },
            { base: "lean", present: "lean", past: "leant", participle: "leant", gerund: "leaning", riddle: "Cuando te inclinas o apoyas en algo. Escribe las formas de este verbo." },
            { base: "creep", present: "creep", past: "crept", participle: "crept", gerund: "creeping", riddle: "Moverse silenciosamente como un gato. Completa este verbo." },
            { base: "kneel", present: "kneel", past: "knelt", participle: "knelt", gerund: "kneeling", riddle: "Arrodillarse es la acci√≥n de este verbo. Sus cuatro formas son:" },
            { base: "throw", present: "throw", past: "threw", participle: "thrown", gerund: "throwing", riddle: "Lanzar una pelota al aire. Escribe las formas de este verbo." },
            { base: "sweep", present: "sweep", past: "swept", participle: "swept", gerund: "sweeping", riddle: "Limpiar el piso con una escoba. Completa este verbo." },
            { base: "drink", present: "drink", past: "drank", participle: "drunk", gerund: "drinking", riddle: "Tomar agua o cualquier l√≠quido. ¬øCu√°les son las formas de este verbo?" },
            { base: "fall", present: "fall", past: "fell", participle: "fallen", gerund: "falling", riddle: "Cuando te caes al suelo. Escribe las cuatro formas de este verbo." },
            { base: "sing", present: "sing", past: "sang", participle: "sung", gerund: "singing", riddle: "Cantar una canci√≥n. Completa las formas de este verbo." },
            { base: "dig", present: "dig", past: "dug", participle: "dug", gerund: "digging", riddle: "Hacer un hoyo en la tierra. ¬øSus cuatro formas verbales?" },
            { base: "catch", present: "catch", past: "caught", participle: "caught", gerund: "catching", riddle: "Atrapar una pelota que te lanzan. Completa este verbo." },
            { base: "take", present: "take", past: "took", participle: "taken", gerund: "taking", riddle: "Tomar algo con las manos. Escribe sus formas verbales." },
            { base: "hang", present: "hang", past: "hung", participle: "hung", gerund: "hanging", riddle: "Colgar un cuadro en la pared. ¬øCu√°les son las formas de este verbo?" },
            { base: "swing", present: "swing", past: "swung", participle: "swung", gerund: "swinging", riddle: "Mecerse en un columpio. Completa este verbo." },
            { base: "eat", present: "eat", past: "ate", participle: "eaten", gerund: "eating", riddle: "Comer tu comida favorita. Escribe las cuatro formas de este verbo." },
            { base: "buy", present: "buy", past: "bought", participle: "bought", gerund: "buying", riddle: "Comprar algo en una tienda. ¬øSus formas verbales?" },
            { base: "drive", present: "drive", past: "drove", participle: "driven", gerund: "driving", riddle: "Manejar un carro. Completa las formas de este verbo." },
            { base: "keep", present: "keep", past: "kept", participle: "kept", gerund: "keeping", riddle: "Guardar o conservar algo. Escribe sus cuatro formas." },
            { base: "run", present: "run", past: "ran", participle: "run", gerund: "running", riddle: "Correr en el parque. ¬øCu√°les son las formas de este verbo?" },
            { base: "cut", present: "cut", past: "cut", participle: "cut", gerund: "cutting", riddle: "Cortar un papel con tijeras. Completa este verbo." },
            { base: "sew", present: "sew", past: "sewed", participle: "sewed", gerund: "sewing", riddle: "Coser un bot√≥n en la camisa. Escribe sus formas verbales." },
            { base: "cost", present: "cost", past: "cost", participle: "cost", gerund: "costing", riddle: "El precio que tiene algo. ¬øSus cuatro formas?" },
            { base: "grow", present: "grow", past: "grew", participle: "grown", gerund: "growing", riddle: "Las plantas crecen con agua y sol. Completa este verbo." },
            { base: "give", present: "give", past: "gave", participle: "given", gerund: "giving", riddle: "Dar un regalo a alguien. Escribe las formas de este verbo." },
            { base: "say", present: "say", past: "said", participle: "said", gerund: "saying", riddle: "Decir algo importante. ¬øCu√°les son sus cuatro formas?" },
            { base: "tell", present: "tell", past: "told", participle: "told", gerund: "telling", riddle: "Contar una historia o un cuento. Completa este verbo." },
            { base: "leave", present: "leave", past: "left", participle: "left", gerund: "leaving", riddle: "Salir de un lugar. Escribe las formas de este verbo." },
            { base: "act", present: "act", past: "acted", participle: "acted", gerund: "acting", riddle: "Representar en una obra de teatro. ¬øSus cuatro formas?" },
            { base: "add", present: "add", past: "added", participle: "added", gerund: "adding", riddle: "Sumar n√∫meros en matem√°ticas. Completa este verbo." },
            { base: "ask", present: "ask", past: "asked", participle: "asked", gerund: "asking", riddle: "Hacer una pregunta al profesor. Escribe sus formas." },
            { base: "answer", present: "answer", past: "answered", participle: "answered", gerund: "answering", riddle: "Responder cuando te preguntan. ¬øCu√°les son sus formas?" },
            { base: "arrive", present: "arrive", past: "arrived", participle: "arrived", gerund: "arriving", riddle: "Llegar a un destino. Completa este verbo." },
            { base: "brush", present: "brush", past: "brushed", participle: "brushed", gerund: "brushing", riddle: "Cepillarse los dientes. Escribe las formas de este verbo." },
            { base: "belong", present: "belong", past: "belonged", participle: "belonged", gerund: "belonging", riddle: "Ser due√±o de algo. ¬øSus cuatro formas verbales?" },
            { base: "beg", present: "beg", past: "begged", participle: "begged", gerund: "begging", riddle: "Suplicar o pedir con insistencia. Completa este verbo." },
            { base: "believe", present: "believe", past: "believed", participle: "believed", gerund: "believing", riddle: "Creer en algo o alguien. Escribe sus formas." },
            { base: "close", present: "close", past: "closed", participle: "closed", gerund: "closing", riddle: "Cerrar una puerta o ventana. ¬øCu√°les son sus formas?" },
            { base: "cook", present: "cook", past: "cooked", participle: "cooked", gerund: "cooking", riddle: "Preparar la comida en la cocina. Completa este verbo." },
            { base: "call", present: "call", past: "called", participle: "called", gerund: "calling", riddle: "Llamar por tel√©fono a alguien. Escribe sus formas." },
            { base: "change", present: "change", past: "changed", participle: "changed", gerund: "changing", riddle: "Cambiar de opini√≥n o de ropa. ¬øSus cuatro formas?" },
            { base: "clean", present: "clean", past: "cleaned", participle: "cleaned", gerund: "cleaning", riddle: "Limpiar tu habitaci√≥n. Completa este verbo." },
            { base: "cry", present: "cry", past: "cried", participle: "cried", gerund: "crying", riddle: "Llorar cuando est√°s triste. Escribe las formas de este verbo." },
            { base: "dance", present: "dance", past: "danced", participle: "danced", gerund: "dancing", riddle: "Bailar en una fiesta. ¬øCu√°les son sus formas?" },
            { base: "dress", present: "dress", past: "dressed", participle: "dressed", gerund: "dressing", riddle: "Vestirse por la ma√±ana. Completa este verbo." },
            { base: "die", present: "die", past: "died", participle: "died", gerund: "dying", riddle: "Dejar de vivir. Escribe las formas de este verbo." },
            { base: "dry", present: "dry", past: "dried", participle: "dried", gerund: "drying", riddle: "Secar la ropa al sol. ¬øSus cuatro formas verbales?" },
            { base: "enjoy", present: "enjoy", past: "enjoyed", participle: "enjoyed", gerund: "enjoying", riddle: "Disfrutar de una pel√≠cula. Completa este verbo." },
            { base: "explain", present: "explain", past: "explained", participle: "explained", gerund: "explaining", riddle: "Explicar c√≥mo funciona algo. Escribe sus formas." },
            { base: "follow", present: "follow", past: "followed", participle: "followed", gerund: "following", riddle: "Seguir a alguien o algo. ¬øCu√°les son sus formas?" },
            { base: "finish", present: "finish", past: "finished", participle: "finished", gerund: "finishing", riddle: "Terminar una tarea. Completa este verbo." },
            { base: "help", present: "help", past: "helped", participle: "helped", gerund: "helping", riddle: "Ayudar a un amigo. Escribe las formas de este verbo." },
            { base: "hope", present: "hope", past: "hoped", participle: "hoped", gerund: "hoping", riddle: "Esperar que algo bueno pase. ¬øSus cuatro formas?" },
            { base: "happen", present: "happen", past: "happened", participle: "happened", gerund: "happening", riddle: "Cuando algo ocurre o sucede. Completa este verbo." },
            { base: "imagine", present: "imagine", past: "imagined", participle: "imagined", gerund: "imagining", riddle: "Imaginar cosas en tu mente. Escribe sus formas." },
            { base: "kiss", present: "kiss", past: "kissed", participle: "kissed", gerund: "kissing", riddle: "Dar un beso a alguien. ¬øCu√°les son sus formas?" },
            { base: "kill", present: "kill", past: "killed", participle: "killed", gerund: "killing", riddle: "Causar la muerte de algo. Completa este verbo." },
            { base: "laugh", present: "laugh", past: "laughed", participle: "laughed", gerund: "laughing", riddle: "Re√≠rse de un chiste. Escribe las formas de este verbo." }
        ];

        // Variables del juego
        let selectedVerbs = [];
        let currentVerbIndex = 0;
        let currentInput = null;
        let score = 0;
        let totalTime = 40 * 60; // 40 minutos en segundos
        let timeLeft = totalTime;
        let timerInterval;
        let currentVerb;

        // Elementos del DOM
        const presentInput = document.getElementById('present');
        const pastInput = document.getElementById('past');
        const participleInput = document.getElementById('participle');
        const gerundInput = document.getElementById('gerund');
        const riddleElement = document.getElementById('riddle');
        const timerElement = document.getElementById('timer');
        const scoreElement = document.getElementById('score');
        const checkButton = document.getElementById('check-btn');
        const nextButton = document.getElementById('next-btn');
        const messageElement = document.getElementById('message');
        const progressBar = document.getElementById('progress-bar');
        const currentVerbElement = document.getElementById('current-verb');
        const totalVerbsElement = document.getElementById('total-verbs');
        const verbCounterElement = document.getElementById('verb-counter');
        //const keys = document.querySelectorAll('.key');

        // Funci√≥n para formatear el tiempo en minutos:segundos
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
        }

        // Funci√≥n para seleccionar 40 verbos aleatorios
        function selectRandomVerbs() {
            // Hacer una copia del array original para no modificarlo
            const shuffled = [...allVerbs].sort(() => 0.5 - Math.random());
            // Seleccionar los primeros 40 verbos
            selectedVerbs = shuffled.slice(0, 40);
            totalVerbsElement.textContent = selectedVerbs.length;
        }

        // Inicializar el juego
        function initGame() {
            // Seleccionar verbos aleatorios si es la primera vez
            if (selectedVerbs.length === 0) {
                selectRandomVerbs();
            }
            
            currentVerb = selectedVerbs[currentVerbIndex];
            
            // Actualizar la interfaz
            riddleElement.textContent = currentVerb.riddle;
            presentInput.value = '';
            pastInput.value = '';
            participleInput.value = '';
            gerundInput.value = '';
            
            // Reiniciar estilos
            presentInput.className = 'input-field';
            pastInput.className = 'input-field';
            participleInput.className = 'input-field';
            gerundInput.className = 'input-field';
            
            // Deshabilitar bot√≥n siguiente
            nextButton.disabled = true;
            
            // Limpiar mensaje
            messageElement.textContent = '';
            messageElement.className = 'message';
            
            // Establecer el primer campo como activo
            setActiveInput(presentInput);
            
            // Actualizar contador de verbos
            currentVerbElement.textContent = currentVerbIndex + 1;
            verbCounterElement.textContent = `Verbo ${currentVerbIndex + 1} de ${selectedVerbs.length}`;
            
            // Actualizar barra de progreso
            updateProgressBar();
        }

        // Actualizar la barra de progreso
        function updateProgressBar() {
            const progress = (currentVerbIndex / selectedVerbs.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Establecer campo de entrada activo
        function setActiveInput(inputElement) {
            // Quitar el enfoque de todos los campos
            presentInput.blur();
            pastInput.blur();
            participleInput.blur();
            gerundInput.blur();
            
            // Establecer el campo activo
            currentInput = inputElement;
            currentInput.focus();
            
            // Resaltar visualmente el campo activo
            presentInput.style.borderColor = presentInput === currentInput ? '#3498db' : '#bdc3c7';
            pastInput.style.borderColor = pastInput === currentInput ? '#3498db' : '#bdc3c7';
            participleInput.style.borderColor = participleInput === currentInput ? '#3498db' : '#bdc3c7';
            gerundInput.style.borderColor = gerundInput === currentInput ? '#3498db' : '#bdc3c7';
        }

        // Funci√≥n para hacer vibrar una tecla
        //function vibrateKey(key) {
         //   key.classList.add('vibrate');
       //     setTimeout(() => {
        //        key.classList.remove('vibrate');
       //     }, 150);
     //   }

        // Agregar texto al campo activo
        function addToInput(text) {
            if (currentInput) {
                if (text === 'delete') {
                    currentInput.value = currentInput.value.slice(0, -1);
                } else if (text === ' ') {
                    currentInput.value += ' ';
                } else {
                    currentInput.value += text;
                }
            }
        }

        // Verificar respuestas
        function checkAnswers() {
            const presentCorrect = presentInput.value.toLowerCase() === currentVerb.present;
            const pastCorrect = pastInput.value.toLowerCase() === currentVerb.past;
            const participleCorrect = participleInput.value.toLowerCase() === currentVerb.participle;
            const gerundCorrect = gerundInput.value.toLowerCase() === currentVerb.gerund;
            
            // Aplicar estilos seg√∫n si son correctos o no
            presentInput.className = presentCorrect ? 'input-field correct' : 'input-field incorrect';
            pastInput.className = pastCorrect ? 'input-field correct' : 'input-field incorrect';
            participleInput.className = participleCorrect ? 'input-field correct' : 'input-field incorrect';
            gerundInput.className = gerundCorrect ? 'input-field correct' : 'input-field incorrect';
            
            // Mostrar mensaje
            if (presentCorrect && pastCorrect && participleCorrect && gerundCorrect) {
                messageElement.textContent = '¬°Correcto! Has completado todas las formas del verbo.';
                messageElement.className = 'message success';
                nextButton.disabled = false;
                score += 10;
                scoreElement.textContent = score;
            } else {
                messageElement.textContent = 'Algunas respuestas son incorrectas. ¬°Int√©ntalo de nuevo!';
                messageElement.className = 'message error';
            }
        }

        // Avanzar al siguiente verbo
        function nextVerb() {
            currentVerbIndex++;
            
            if (currentVerbIndex < selectedVerbs.length) {
                initGame();
            } else {
                // Fin del juego
                endGame();
            }
        }

        // Finalizar el juego
        function endGame() {
            clearInterval(timerInterval);
            
            // Calcular puntuaci√≥n final
            const finalScore = Math.round((score / (selectedVerbs.length * 10)) * 100);
            
            // Mostrar mensaje final
            riddleElement.textContent = `¬°Juego terminado! Tu puntuaci√≥n final es: ${finalScore}/100`;
            
            // Deshabilitar entradas y botones
            presentInput.disabled = true;
            pastInput.disabled = true;
            participleInput.disabled = true;
            gerundInput.disabled = true;
            checkButton.disabled = true;
            nextButton.disabled = true;
            
            // Deshabilitar teclado virtual
          //  keys.forEach(key => key.disabled = true);
            
            // Mostrar mensaje de felicitaci√≥n
            if (finalScore >= 70) {
                messageElement.textContent = `¬°Felicidades! Has completado todos los verbos con una excelente puntuaci√≥n.`;
            } else {
                messageElement.textContent = `¬°Buen trabajo! Has completado todos los verbos. Sigue practicando para mejorar.`;
            }
            messageElement.className = 'message success';
            
            // Actualizar barra de progreso al 100%
            progressBar.style.width = '100%';
        }

        // Iniciar temporizador
        function startTimer() {
            timerElement.textContent = formatTime(timeLeft);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                timerElement.textContent = formatTime(timeLeft);
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // Event Listeners
      //  keys.forEach(key => {
      //      key.addEventListener('click', (e) => {
       //         const keyValue = key.getAttribute('data-key');
       //         addToInput(keyValue);
       //         vibrateKey(key);
     //       });
   //     });

        checkButton.addEventListener('click', checkAnswers);
        
        nextButton.addEventListener('click', nextVerb);
        
        presentInput.addEventListener('click', () => setActiveInput(presentInput));
        pastInput.addEventListener('click', () => setActiveInput(pastInput));
        participleInput.addEventListener('click', () => setActiveInput(participleInput));
        gerundInput.addEventListener('click', () => setActiveInput(gerundInput));

        // Iniciar el juego
        selectRandomVerbs();
        initGame();
        startTimer();
    </script>
</body>
</html>